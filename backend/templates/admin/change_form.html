{% extends "admin/change_form.html" %}
{% load i18n %}

{% block extrahead %}
{{ block.super }}
<script>
(function() {
    function expandSectionFromHash() {
        var hash = window.location.hash;
        if (!hash) return;
        var id = hash.replace(/^#/, '');
        var el = document.getElementById(id);
        if (el) {
            el.classList.remove('collapsed');
            el.classList.add('show');
            el.scrollIntoView({ behavior: 'instant', block: 'start' });
        }
    }
    function runWhenReady() {
        expandSectionFromHash();
    }
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', runWhenReady);
    } else {
        runWhenReady();
    }
    window.addEventListener('hashchange', expandSectionFromHash);
})();
</script>
{% endblock %}
